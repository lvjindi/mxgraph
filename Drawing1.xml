<mxGraphModel dx="936" dy="875" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169"><root><declaration>chan take, release;int[0,1] L;clock time;</declaration><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="Soldier" style="swimlane;" vertex="1" parameter="const int delay" declaration="clock y;" parent="1"><mxGeometry x="80" y="60" width="300" height="300" as="geometry"/></mxCell><mxCell id="7" value="U:y=0  G:L==0" style="exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" guard="L==0" edge="1" parent="2" source="3" target="4" sync="take!" update="y=0"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3" value="" style="shape=automaton;whiteSpace=wrap;html=1;aspect=fixed;shape=initial;" vertex="1" name="unsafe" initial="1" parent="2"><mxGeometry x="40" y="60" width="40" height="40" as="geometry"/></mxCell><mxCell id="8" value="U:  G:y&gt;=delay" style="exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" guard="y&gt;=delay" edge="1" parent="2" source="4" target="6" sync="release"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="4" value="" style="shape=automaton;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="2"><mxGeometry x="210" y="60" width="40" height="40" as="geometry"/></mxCell><mxCell id="10" value="U:  G:y&gt;=delay" style="exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" guard="y&gt;=delay" edge="1" parent="2" source="5" target="3" sync="release!"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="5" value="" style="shape=automaton;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="2"><mxGeometry x="40" y="200" width="40" height="40" as="geometry"/></mxCell><mxCell id="9" value="U:y=0  G:L==1" style="exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" guard="L==1" edge="1" parent="2" source="6" target="5" update="y=0" sync="take!"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="6" value="" style="shape=automaton;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" name="safe" parent="2"><mxGeometry x="210" y="200" width="40" height="40" as="geometry"/></mxCell><mxCell id="11" value="Torch" style="swimlane;" vertex="1" parent="1"><mxGeometry x="80" y="380" width="300" height="300" as="geometry"/></mxCell><mxCell id="16" value="U:  G:" style="exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="11" source="12" target="14" sync="take?"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="12" value="" style="shape=automaton;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="11"><mxGeometry x="130" y="50" width="40" height="40" as="geometry"/></mxCell><mxCell id="19" value="U:  G:" style="exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="11" source="13" target="12" sync="take?"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="13" value="" style="shape=automaton;whiteSpace=wrap;html=1;aspect=fixed;shape=initial;" vertex="1" name="free" initial="1" parent="11"><mxGeometry x="20" y="120" width="40" height="40" as="geometry"/></mxCell><mxCell id="17" value="U:  G:" style="exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="11" source="14" target="15" sync="release?"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="14" value="" style="shape=automaton;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" name="two" parent="11"><mxGeometry x="230" y="120" width="40" height="40" as="geometry"/></mxCell><mxCell id="18" value="U:L=1-L  G:" style="exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="11" source="15" target="13" sync="release?" update="L=1-L"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="15" value="" style="shape=automaton;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" name="one" parent="11"><mxGeometry x="130" y="200" width="40" height="40" as="geometry"/></mxCell></root></mxGraphModel>